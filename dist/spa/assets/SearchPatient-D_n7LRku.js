import{h as p,i as s}from"./QTable-ComeHYaz.js";import{d as h}from"./QBtn-CGi78GET.js";import{Q as c}from"./QForm-dJvTWnY3.js";import{g as x,a as u,q as g,c as f,w as i,e as y}from"./index.esm-DCn6hZRc.js";import{_ as w}from"./_plugin-vue_export-helper-GbxhcRUu.js";import{L as b,S,f as t,N as D,X as d}from"./index-B--a_9vc.js";const N=x(u()),V={data(){return{searchName:"",searchSurgery:"",searchAge:null,searchDate:"",searchResults:[],columns:[{name:"name",label:"Name",field:"name",style:"max-width: 150px; height: auto; white-space: normal; text-align: left;"},{name:"dob",label:"Date of Birth",field:"dob",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"age",label:"Age",field:"age",style:"max-width: 100px; white-space: normal; text-align: left;"},{name:"maritalStatus",label:"Marital Status",field:"maritalStatus",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"children",label:"Children",field:"children",style:"max-width: 100px; white-space: normal; text-align: left;"},{name:"doa",label:"Date of Admission",field:"doa",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"dod",label:"Date of Discharge",field:"dod",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"hospital",label:"Hospital",field:"hospital",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"surgery",label:"Surgery",field:"surgery",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"preDiagnosis",label:"Pre-Surgery Diagnosis",field:"preDiagnosis",style:"max-width: 200px; height: auto; white-space: normal; text-align: left;"},{name:"postDiagnosis",label:"Post-Surgery Diagnosis",field:"postDiagnosis",style:"max-width: 200px; white-space: normal; text-align: left;"},{name:"histology",label:"Histology",field:"histology",style:"max-width: 150px; height: auto; white-space: normal; text-align: left;"},{name:"comorbidities",label:"Comorbidities",field:"comorbidities",style:"max-width: 200px; white-space: normal; text-align: left;"},{name:"preOpHb",label:"Pre-op HB",field:"preOpHb",style:"max-width: 100px; white-space: normal; text-align: left;"},{name:"postOpHb",label:"Post-op HB",field:"postOpHb",style:"max-width: 100px; white-space: normal; text-align: left;"},{name:"surgeryTime",label:"Surgery Time",field:"surgeryTime",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"complications",label:"Post-op Complications",field:"complications",style:"max-width: 200px; white-space: normal; text-align: left;"},{name:"specialNotes",label:"Special Notes",field:"specialNotes",style:"max-width: 200px; white-space: normal; text-align: left;"},{name:"readmission",label:"Readmission Required",field:"readmission",style:"max-width: 150px; white-space: normal; text-align: left;"},{name:"otherMatters",label:"Other Matters",field:"otherMatters",style:"max-width: 200px; white-space: normal; text-align: left;"},{name:"actions",label:"Actions",field:"actions",style:"text-align: left;"}]}},methods:{async onSearch(){const r=this.searchName?this.searchName.split(" "):[],e=g(f(N,"patients"),...r.length?[i("nameParts","array-contains-any",r)]:[],...this.searchSurgery?[i("surgery","==",this.searchSurgery)]:[],...this.searchAge?[i("age","==",this.searchAge)]:[],...this.searchDate?[i("doa","==",this.searchDate)]:[]),n=await y(e);this.searchResults=n.docs.map(o=>({id:o.id,...o.data()}))},onClear(){this.searchName="",this.searchSurgery="",this.searchAge=null,this.searchDate="",this.searchResults=[]}}},A={class:"q-pa-md",style:{width:"100vw",display:"flex","justify-content":"space-between"}};function C(r,e,n,o,a,m){return b(),S("div",A,[t(c,{onSubmit:m.onSearch,class:"q-gutter-md",style:{width:"50%","max-width":"600px"}},{default:D(()=>[e[4]||(e[4]=d("div",{class:"text-h6"},"Search Criteria",-1)),t(s,{filled:"",modelValue:a.searchName,"onUpdate:modelValue":e[0]||(e[0]=l=>a.searchName=l),label:"Patient Name"},null,8,["modelValue"]),t(s,{filled:"",modelValue:a.searchSurgery,"onUpdate:modelValue":e[1]||(e[1]=l=>a.searchSurgery=l),label:"Surgery"},null,8,["modelValue"]),t(s,{filled:"",type:"number",modelValue:a.searchAge,"onUpdate:modelValue":e[2]||(e[2]=l=>a.searchAge=l),label:"Age"},null,8,["modelValue"]),t(s,{filled:"",type:"date",modelValue:a.searchDate,"onUpdate:modelValue":e[3]||(e[3]=l=>a.searchDate=l),label:"Date of Admission"},null,8,["modelValue"]),d("div",null,[t(h,{label:"Search",type:"submit",color:"primary"}),t(h,{label:"Clear",type:"button",color:"primary",flat:"",class:"q-ml-sm",onClick:m.onClear},null,8,["onClick"])])]),_:1},8,["onSubmit"]),t(p,{style:{width:"60%","max-width":"1500px"},rows:a.searchResults,columns:a.columns,"row-key":"id"},null,8,["rows","columns"])])}const k=w(V,[["render",C]]);export{k as default};
